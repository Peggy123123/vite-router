import{_ as u,c as d,b as p,d as t,F as c,y as m,A as g,t as a,r as f,o as n}from"./index-ikina1G2.js";var b={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"peggy123",VITE_TEXT:"這是部署的環境",BASE_URL:"/Raiko/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:i,VITE_PATH:h}=b,y={data(){return{orderId:"",user:{},productsData:[],total:0,isLoading:!0}},methods:{showUserData(){const l=`${i}/api/${h}/order/${this.orderId}`;this.$http.get(l).then(s=>{this.user=s.data.order.user,this.productsData=s.data.order.products,this.total=s.data.order.total}).catch(s=>{alert(s.response.data.message)}).finally(()=>{this.isLoading=!1})},payBtn(){const l=`${i}/api/${h}/pay/${this.orderId}`;this.$http.post(l).then(s=>{this.$router.push("paid_complete")}).catch(s=>{alert(s.response.data.message)}).finally(()=>{this.isLoading=!1})}},mounted(){this.orderId=localStorage.getItem("orderId"),this.showUserData()}},x={class:"container my-35"},v=t("h2",{class:"h4 text-center mb-10"},"已完成訂購！",-1),E={class:"row justify-content-center"},I={class:"col-lg-5"},L=t("h2",{class:"h5 mb-5"},"購買商品",-1),V={class:"table align-middle table-light p-5"},D=t("thead",null,[t("tr",null,[t("th",{class:"thead-text"},"商品"),t("th",{class:"text-center thead-text"},"數量"),t("th",{class:"text-end thead-text"},"小計")])],-1),T={height:"100"},w=["src","alt"],B={class:"text-center"},U={class:"text-end fs-14"},k={class:"col-lg-5"},R=t("h2",{class:"h5 mb-5"},"顧客資料",-1),S={class:"table table-light mb-10 mb-md-5 table-borderless"},A={class:"fs-14"},C=t("th",{class:"fw-normal",width:"100"},"姓名",-1),N={class:"fs-14"},$=t("td",null,"Email",-1),O={class:"fs-14"},P=t("td",null,"收件人手機",-1),q={class:"fs-14"},F=t("td",null,"收件人地址",-1),H=t("tr",{class:"fs-14"},[t("td",null,"付款狀態"),t("td",{class:"text-danger"},"尚未付款")],-1),j={class:"text-end"};function M(l,s,X,z,o,r){const _=f("VueLoading");return n(),d(c,null,[p(_,{active:o.isLoading},null,8,["active"]),t("div",x,[v,t("div",E,[t("div",I,[L,t("table",V,[D,t("tbody",null,[o.productsData?(n(!0),d(c,{key:0},m(o.productsData,e=>(n(),d("tr",{key:e.id},[t("td",T,[t("img",{src:e.product.imageUrl,alt:e.product.title,width:"50",class:"rounded-2 me-5"},null,8,w),t("span",null,a(e.product.title),1)]),t("td",B,a(e.qty),1),t("td",U,"NT."+a((e.product.price*e.qty).toLocaleString()),1)]))),128)):g("",!0)])])]),t("div",k,[R,t("table",S,[t("tbody",null,[t("tr",A,[C,t("td",null,a(o.user.name),1)]),t("tr",N,[$,t("td",null,a(o.user.email),1)]),t("tr",O,[P,t("td",null,a(o.user.tel),1)]),t("tr",q,[F,t("td",null,a(o.user.address),1)]),H])]),t("div",j,[t("button",{type:"button",class:"btn btn-primary w-50 text-white",onClick:s[0]||(s[0]=(...e)=>r.payBtn&&r.payBtn(...e))},"前往付款")])])])])],64)}const J=u(y,[["render",M]]);export{J as default};
