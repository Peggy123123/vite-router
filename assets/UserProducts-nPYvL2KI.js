import{_ as f,c as n,b as c,a as t,F as u,e as y,r as _,o as i,n as T,t as l,w as L,d as E}from"./index-XKJx4amT.js";var k={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"peggy123",VITE_TEXT:"這是部署的環境",BASE_URL:"/vite-router/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:p,VITE_PATH:h}=k;var g=document.getElementById("liveToastBtn"),x=document.getElementById("liveToast");g&&g.addEventListener("click",function(){var s=new bootstrap.Toast(x);s.show()});const V={data(){return{productData:[],isLoading:!0,fullPage:!0}},mounted(){const s=`${p}/api/${h}/products/all`;this.isLoading=!0,this.$http.get(s).then(a=>{this.productData=a.data.products}).catch(a=>{alert(a.response.data.message)}).finally(()=>{this.isLoading=!1})},methods:{addCart(s,a=1){const r=`${p}/api/${h}/cart`;this.isLoading=!0,this.$http.post(r,{data:{product_id:s.id,qty:a}}).then(o=>{alert(o.data.message)}).catch(o=>{alert(o)}).finally(()=>{this.isLoading=!1})}}},B={class:"container"},$={class:"mt-5 pt-5"},C={class:"table align-middle mt-5"},w=t("thead",null,[t("tr",null,[t("th",null,"圖片"),t("th",null,"商品名稱"),t("th",null,"價格"),t("th")])],-1),D={style:{width:"200px"}},I={class:"h6"},R={class:"h5"},S={class:"btn-group btn-group-sm"},P=["onClick"],U=t("button",{type:"button",class:"btn btn-primary",id:"liveToastBtn"},"Show live toast",-1),A=t("div",{class:"position-fixed bottom-0 end-0 p-3",style:{"z-index":"11"}},[t("div",{id:"liveToast",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},[t("div",{class:"toast-header"},[t("strong",{class:"me-auto"},"Bootstrap"),t("small",null,"11 mins ago"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})]),t("div",{class:"toast-body"}," Hello, world! This is a toast message. ")])],-1);function z(s,a,r,o,d,v){const m=_("VueLoading"),b=_("RouterLink");return i(),n(u,null,[c(m,{active:d.isLoading},null,8,["active"]),t("div",B,[t("div",$,[t("table",C,[w,t("tbody",null,[(i(!0),n(u,null,y(d.productData,e=>(i(),n("tr",{key:e.id},[t("td",D,[t("div",{style:T([{height:"100px","background-size":"cover","background-position":"center"},{"background-image":"url("+e.imageUrl+")"}])},null,4)]),t("td",null,l(e.title),1),t("td",null,[t("del",I,"原價 "+l(e.origin_price)+" 元",1),t("div",R,"現在只要 "+l(e.price)+" 元",1)]),t("td",null,[t("div",S,[c(b,{to:`/productslist/${e.id}`},{default:L(()=>[E("查看更多")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-danger",ref_for:!0,ref:"loadingAddCart",onClick:H=>v.addCart(e)}," 加到購物車 ",8,P)])])]))),128))])])])]),U,A],64)}const F=f(V,[["render",z]]);export{F as default};
