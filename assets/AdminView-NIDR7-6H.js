import{T,M as E}from"./bootstrap.esm-l9cKv-78.js";import{_ as h,o as p,c as f,b as s,a as t,w as r,d as l,B as k,F as b,r as i}from"./index-qhDbIUWe.js";var L={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"peggy123",VITE_TEXT:"這是部署的環境",BASE_URL:"/Raiko/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:V}=L;let m=null,u=null;const $={data(){return{toastTitle:"",toastContent:"",isLoading:!1,fallPage:!1}},methods:{openModal(){u.show()},logout(){const e=`${V}/logout`;this.isLoading=!0,u.hide(),this.$http.post(e).then(o=>{this.$router.push("/login")}).catch(o=>{this.toastTitle="登出",this.toastContent="請重新操作",m.show()}).finally(()=>{this.isLoading=!1})}},mounted(){m=new T(document.getElementById("toast")),u=new E(document.getElementById("logoutModal"))}},x={class:"nav d-flex flex-column bg-dark justify-content-between"},y=t("a",{class:"navbar-brand text-white",href:"#"},"Logo",-1),R={class:"list-unstyled mt-10"},w=t("div",{class:"text-white mb-20 fw-bold d-flex align-items-center justify-content-center"},[t("i",{class:"bi bi-person-circle fs-1"}),t("p",{class:"mb-0 ms-2"},[l("歡迎回來！ "),t("span",null,"管理者1")])],-1),I={class:"modal fade",id:"logoutModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},M={class:"modal-dialog modal-dialog-centered"},A={class:"modal-content"},U=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"登出"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),B=t("div",{class:"modal-body"},[t("p",null,"是否確定要登出")],-1),C={class:"modal-footer"},D=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1);function N(e,o,g,v,_,a){const d=i("VueLoading"),n=i("RouterLink");return p(),f(b,null,[s(d,{active:_.isLoading},null,8,["active"]),t("header",null,[t("div",x,[t("div",null,[y,t("ul",R,[t("li",null,[s(n,{to:"/admin/adminproduct",class:"admin-link"},{default:r(()=>[l("商品管理")]),_:1})]),t("li",null,[s(n,{to:"adminorder",class:"admin-link"},{default:r(()=>[l("訂單管理")]),_:1})]),t("li",null,[s(n,{to:"admincoupon",class:"admin-link"},{default:r(()=>[l("優惠券管理")]),_:1})]),t("li",null,[t("a",{href:"#",class:"admin-link",onClick:o[0]||(o[0]=k((...c)=>a.openModal&&a.openModal(...c),["prevent"]))},"登出")])])]),w])]),t("div",I,[t("div",M,[t("div",A,[U,B,t("div",C,[D,t("button",{type:"button",class:"btn btn-danger",onClick:o[1]||(o[1]=(...c)=>a.logout&&a.logout(...c))},"確定")])])])])],64)}const P=h($,[["render",N]]);var S={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"peggy123",VITE_TEXT:"這是部署的環境",BASE_URL:"/Raiko/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:O,VITE_PATH:H}=S,j={data(){return{api:O,api_path:H}},components:{AdminNavbarLayout:P},methods:{checkUser(){this.$http.post(`${this.api}/api/user/check`).then(e=>{}).catch(e=>{console.log(e),alert("登入失敗，請重新登入"),this.$router.push("/login")})}},mounted(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.checkUser()}},F={class:"main"},X={class:"container"},z=t("footer",{class:"bg-light py-15 admin-footer"},[t("p",{class:"text-center mb-0"},"Raiko 休日製作所"),t("p",{class:"text-center mb-0"},"本網站不提供商業用途")],-1);function q(e,o,g,v,_,a){const d=i("AdminNavbarLayout"),n=i("RouterView");return p(),f(b,null,[s(d),t("div",F,[t("div",X,[s(n)])]),z],64)}const K=h(j,[["render",q]]);export{K as default};
