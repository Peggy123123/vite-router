import{T as k,M as E}from"./bootstrap.esm-l9cKv-78.js";import{_ as p,o as f,c as g,b as s,a as t,w as l,d as i,B as V,F as b,r as a}from"./index-lP-r8bYf.js";var $={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"peggy123",VITE_TEXT:"這是部署的環境",BASE_URL:"/Raiko/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:x}=$;let h=null,_=null;const y={data(){return{toastTitle:"",toastContent:"",isLoading:!1,fallPage:!1}},methods:{openModal(){_.show()},logout(){const e=`${x}/logout`;this.isLoading=!0,_.hide(),this.$http.post(e).then(o=>{this.$router.push("/login")}).catch(o=>{this.toastTitle="登出",this.toastContent="請重新操作",h.show()}).finally(()=>{this.isLoading=!1})}},mounted(){h=new k(document.getElementById("toast")),_=new E(document.getElementById("logoutModal"))}},L={class:"nav d-flex flex-column bg-dark justify-content-between"},R=t("div",{class:"d-flex justify-content-center text-white pt-10"},[t("img",{width:"150",src:"https://i.imgur.com/pFJdiRb.png",alt:"logo"})],-1),w={class:"list-unstyled mt-10"},I=t("div",{class:"text-white mb-20 fw-bold d-flex align-items-center justify-content-center"},[t("i",{class:"bi bi-person-circle fs-1"}),t("p",{class:"mb-0 ms-2"},[i("歡迎回來！ "),t("span",null,"管理者1")])],-1),M={class:"modal fade",id:"logoutModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},A={class:"modal-dialog modal-dialog-centered"},U={class:"modal-content"},B=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"登出"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),C=t("div",{class:"modal-body"},[t("p",null,"是否確定要登出")],-1),D={class:"modal-footer"},N=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1);function P(e,o,v,T,m,n){const d=a("VueLoading"),c=a("router-link"),r=a("RouterLink");return f(),g(b,null,[s(d,{active:m.isLoading},null,8,["active"]),t("header",null,[t("div",L,[t("div",null,[s(c,{to:"/"},{default:l(()=>[R]),_:1}),t("ul",w,[t("li",null,[s(r,{to:"adminproduct",class:"admin-link"},{default:l(()=>[i("商品管理")]),_:1})]),t("li",null,[s(r,{to:"adminorder",class:"admin-link"},{default:l(()=>[i("訂單管理")]),_:1})]),t("li",null,[s(r,{to:"admincoupon",class:"admin-link"},{default:l(()=>[i("優惠券管理")]),_:1})]),t("li",null,[t("a",{href:"#",class:"admin-link",onClick:o[0]||(o[0]=V((...u)=>n.openModal&&n.openModal(...u),["prevent"]))},"登出")])])]),I])]),t("div",M,[t("div",A,[t("div",U,[B,C,t("div",D,[N,t("button",{type:"button",class:"btn btn-danger",onClick:o[1]||(o[1]=(...u)=>n.logout&&n.logout(...u))},"確定")])])])])],64)}const S=p(y,[["render",P]]);var O={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"peggy123",VITE_TEXT:"這是部署的環境",BASE_URL:"/Raiko/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:j,VITE_PATH:F}=O,H={data(){return{api:j,api_path:F}},components:{AdminNavbarLayout:S},methods:{checkUser(){this.$http.post(`${this.api}/api/user/check`).then(e=>{}).catch(e=>{console.log(e),alert("登入失敗，請重新登入"),this.$router.push("/login")})}},mounted(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.checkUser()}},X={class:"main"},z={class:"container"},J=t("footer",{class:"bg-light py-15 admin-footer"},[t("p",{class:"text-center mb-0"},"Raiko 休日製作所"),t("p",{class:"text-center mb-0"},"本網站不提供商業用途")],-1);function q(e,o,v,T,m,n){const d=a("AdminNavbarLayout"),c=a("RouterView");return f(),g(b,null,[s(d),t("div",X,[t("div",z,[s(c)])]),J],64)}const Q=p(H,[["render",q]]);export{Q as default};
